# 🀄 Offline Mahjong - 完全サーバレス麻雀アプリ

完全サーバレス（フロントエンド＋P2P通信）で動作する4人麻雀アプリケーションです。暗号技術を活用し、サーバーなしで公平かつ安全なゲームプレイを実現します。

## 🎯 主な特徴

- **完全サーバレス**: フロントエンドとP2P通信のみで動作
- **公平な山のシャッフル**: 全プレイヤーが参加する暗号化シャッフル
- **牌情報の完全秘匿**: 暗号化により本人以外に牌情報が漏れない
- **不正防止**: 暗号ベースの検証システム

## 🛠️ 技術スタック

- **Frontend**: React + TypeScript
- **Build Tool**: Vite
- **P2P通信**: WebRTC
- **暗号化**: WebCrypto API / libsodium.js

## 📦 インストール

```bash
# リポジトリのクローン
git clone https://github.com/seki-seki/offline-mahjong.git
cd offline-mahjong

# 依存関係のインストール
npm install
```

## 🚀 開発環境の起動

```bash
# 開発サーバーの起動
npm run dev
```

開発サーバーが起動したら、ブラウザで `http://localhost:5173` にアクセスしてください。

## 🏗️ ビルド

```bash
# プロダクションビルド
npm run build

# ビルド結果のプレビュー
npm run preview
```

## 🧪 テスト

```bash
# テストの実行
npm test

# テストのウォッチモード
npm run test:watch
```

## 🎮 ゲームの流れ

1. **セッション生成**: 4人のプレイヤーがそれぞれ暗号鍵ペアを生成
2. **P2P接続**: WebRTCを使用して全プレイヤーが相互接続
3. **山の構築**: 多段階暗号化シャッフルで公平な山を生成
4. **ゲームプレイ**: 暗号化された牌の配布とゲーム進行
5. **検証**: ゲーム終了後に不正がなかったことを検証可能

## 📋 実装仕様

詳細な実装仕様については [docs/PRD.md](docs/PRD.md) を参照してください。

## 🤝 コントリビューション

プルリクエストは歓迎します。大きな変更を行う場合は、まずissueを作成して変更内容について議論してください。

## 📄 ライセンス

[MIT License](LICENSE)